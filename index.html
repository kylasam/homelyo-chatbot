<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Homeit - Premium Living in Berlin Lichtenrade</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: 'Inter', sans-serif; background:#0a0a0a; min-height:100vh; display:flex; justify-content:center; align-items:center; padding:15px; }
.main-container { max-width:1000px; width:100%; height:95vh; display:grid; grid-template-columns:350px 1fr; gap:15px; max-height:850px; }
.property-sidebar { background: linear-gradient(180deg, #1a1a1a 0%, #0f0f0f 100%); border:1px solid #2a2a2a; border-radius:16px; padding:25px; color:white; display:flex; flex-direction:column; gap:20px; overflow-y:auto; }
.property-sidebar::-webkit-scrollbar { width:6px; }
.property-sidebar::-webkit-scrollbar-track { background:rgba(255,255,255,0.05); }
.property-sidebar::-webkit-scrollbar-thumb { background:#ff6b9d; border-radius:3px; }
.logo-section { text-align:center; padding-bottom:15px; border-bottom:1px solid #2a2a2a; }
.logo-wrapper { width:120px; height:120px; border-radius:50%; overflow:hidden; background-color:#1a1a1a; margin:0 auto 15px auto; display:flex; align-items:center; justify-content:center; border:2px solid #ff6b9d; box-shadow:0 4px 12px rgba(0,0,0,0.4); }
.logo-wrapper img { width:90%; height:auto; object-fit:contain; }
.location { font-size:12px; color:#888; display:flex; justify-content:center; align-items:center; gap:6px; }
.info-section h3 { font-size:14px; font-weight:600; color:#ff6b9d; margin-bottom:10px; text-transform:uppercase; letter-spacing:0.5px; }
.info-section p, .features-list a, .available-rooms a, .booking-link { font-size:13px; color:white; line-height:1.6; margin-bottom:8px; text-decoration:none; }
.features-list { display:flex; flex-direction:column; gap:10px; }
.feature-item { display:flex; align-items:center; gap:10px; padding:10px; background: rgba(255,107,157,0.05); border:1px solid rgba(255,107,157,0.2); border-radius:8px; font-size:12px; color:white; }
.feature-item .icon { font-size:18px; }
.available-rooms a { display:inline-block; margin-right:8px; margin-bottom:6px; padding:6px 12px; background:#ff6b9d; color:white; text-decoration:none; border-radius:8px; font-size:12px; transition:background 0.3s; }
.available-rooms a:hover { background:#c44569; }
.booking-link { display:inline-block; padding:6px 12px; margin-top:5px; background:#ff6b9d; border-radius:8px; transition:0.3s; color:white; }
.booking-link:hover { background:#c44569; }
.chat-container { background:#1a1a1a; border:1px solid #2a2a2a; border-radius:16px; overflow:hidden; display:flex; flex-direction:column; height:100%; position:relative; }
.chat-header { background: linear-gradient(135deg,#ff6b9d 0%,#c44569 100%); color:white; padding:18px 20px; display:flex; align-items:center; gap:12px; border-bottom:1px solid rgba(255,255,255,0.1); }
.chat-header-avatar { width:60px; height:60px; border-radius:50%; overflow:hidden; flex-shrink:0; border:2px solid white; box-shadow:0 4px 12px rgba(0,0,0,0.3); }
.chat-header-avatar img { width:100%; height:100%; object-fit:cover; }
.chat-header-text h2 { margin:0; font-size:18px; font-weight:600; }
.chat-header-text p { margin:3px 0 0; font-size:12px; opacity:0.9; font-weight:300; }
.chat-messages { flex:1; overflow-y:auto; padding:20px; background:#0f0f0f; color:white; }
.chat-messages::-webkit-scrollbar { width:6px; }
.chat-messages::-webkit-scrollbar-track { background:rgba(255,255,255,0.02); }
.chat-messages::-webkit-scrollbar-thumb { background:#ff6b9d; border-radius:3px; }
.message { margin-bottom:16px; display:flex; gap:10px; animation:slideIn 0.3s ease; align-items:flex-start; }
@keyframes slideIn { from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:translateY(0);} }
.message.user { justify-content:flex-end; }
.message.user .avatar { order:2; }
.avatar { width:32px; height:32px; border-radius:50%; flex-shrink:0; overflow:hidden; box-shadow:0 2px 6px rgba(0,0,0,0.2); }
.avatar img { width:100%; height:100%; object-fit:cover; }
.message.user .avatar { background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); display:flex; align-items:center; justify-content:center; font-size:18px; }
.message-content { max-width:70%; padding:12px 16px; border-radius:16px; word-wrap:break-word; line-height:1.5; font-size:13px; }
.message.bot .message-content { background:#1a1a1a; color:white; border:1px solid #2a2a2a; border-bottom-left-radius:4px; }
.message.user .message-content { background:linear-gradient(135deg,#ff6b9d 0%,#c44569 100%); color:white; border-bottom-right-radius:4px; }
.chat-input-container { padding:15px 20px; background:#1a1a1a; border-top:1px solid #2a2a2a; display:flex; gap:10px; align-items:center; }
#messageInput { flex:1; padding:12px 16px; background:#0f0f0f; border:1px solid #2a2a2a; border-radius:24px; font-size:13px; color:white; outline:none; }
#messageInput::placeholder { color:#666; }
#sendButton { width:40px; height:40px; background:linear-gradient(135deg,#ff6b9d 0%,#c44569 100%); color:white; border:none; border-radius:50%; cursor:pointer; font-size:18px; display:flex; align-items:center; justify-content:center; flex-shrink:0; }
#sendButton:hover:not(:disabled) { transform:scale(1.1); box-shadow:0 4px 12px rgba(255,107,157,0.4); }
#sendButton:disabled { background:#333; cursor:not-allowed; opacity:0.5; }
.intro-message { background: rgba(255,107,157,0.08); border:1px solid rgba(255,107,157,0.2); border-radius:12px; padding:16px; margin-bottom:16px; animation:slideIn 0.5s ease; color:white; font-size:13px; }
.intro-message h3 { color:#ff6b9d; margin-bottom:8px; font-size:15px; }
.intro-message p { margin-bottom:6px; line-height:1.6; }
.floating-video-btn { position:fixed; bottom:20px; right:20px; width:60px; height:60px; border-radius:50%; background:#ff6b9d; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:9999; box-shadow:0 4px 12px rgba(0,0,0,0.3); }
.floating-video-btn:hover { transform:scale(1.1); }
.floating-video-btn img { width:70%; height:70%; object-fit:contain; pointer-events:none; }
.video-overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:10000; }
.video-overlay video { width:300px; border-radius:16px; }
.video-overlay.active { display:flex; }
@media (max-width:768px){ .main-container{grid-template-columns:1fr;height:100vh;max-height:none;} .property-sidebar{display:none;} .message-content{max-width:80%;} }
</style>
</head>
<body>
<div class="main-container">

    <!-- Sidebar -->
    <div class="property-sidebar">
        <div class="logo-section">
            <div class="logo-wrapper">
                <img src="https://raw.githubusercontent.com/kylasam/homelyo-chatbot/main/assets/Homelyo-logo-new.jpg" alt="Homelyo Logo">
            </div>
            <div class="location">
                <span>üìç</span>
                <span>Lichtenrader Damm, 12305 Berlin</span>
            </div>
        </div>

        <div class="info-section">
            <h3>About</h3>
            <p>Premium co-living in Berlin's peaceful Lichtenrade district with modern amenities and excellent transport connections.</p>
        </div>

        <div class="info-section">
            <h3>Features</h3>
            <div class="features-list">
                <div class="feature-item"><span class="icon">üõèÔ∏è</span> Fully furnished rooms</div>
                <div class="feature-item"><span class="icon">üå≥</span> Green neighborhood</div>
                <div class="feature-item"><span class="icon">‚ú®</span> Modern facilities</div>
                <div class="feature-item"><span class="icon">üö≠</span> No smoking policy</div>
                <div class="feature-item"><span class="icon">üêï</span> Pet-free environment</div>
            </div>
        </div>

        <div class="info-section">
            <h3>Available Rooms</h3>
            <div class="available-rooms">
                <a href="https://www.homelyo.eu/ke1" target="_blank">KE1</a>
                <a href="https://www.homelyo.eu/ke2" target="_blank">KE2</a>
                <a href="https://www.homelyo.eu/ke3" target="_blank">KE3</a>
                <a href="https://www.homelyo.eu/ke4" target="_blank">KE4</a>
            </div>
        </div>

        <div class="info-section">
            <h3>Booking</h3>
            <a href="https://www.homelyo.eu/contact-us" class="booking-link" target="_blank">Submit Booking Request</a>
        </div>
    </div>

    <!-- Chat Interface -->
    <div class="chat-container">
        <div class="chat-header">
            <div class="chat-header-avatar">
                <img src="https://raw.githubusercontent.com/kylasam/homelyo-chatbot/main/assets/chat-bot-image.png" alt="Sara">
            </div>
            <div class="chat-header-text">
                <h2>Sara from Homelyo</h2>
                <p>üü¢ Online ‚Ä¢ Ready to assist you</p>
            </div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="intro-message">
                <h3>üëã Hello! I'm Sara</h3>
                <p>Your personal assistant for Homelyo at Lichtenrader Damm, 12305 Berlin.</p>
                <p>I can help you with:</p>
                <ul style="margin-left:16px;">
                    <li>‚úì Available Rooms (KE1, KE2, KE3, KE4)</li>
                    <li>‚úì Amenities</li>
                    <li>‚úì Booking process</li>
                    <li>‚úì Location & transport info</li>
                </ul>
            </div>
        </div>

        <div class="chat-input-container">
            <input type="text" id="messageInput" placeholder="Type your message..." autocomplete="off">
            <button id="sendButton">‚û§</button>
        </div>
    </div>

</div>

<!-- Floating Welcome Video Button -->
<div class="floating-video-btn" id="videoBtn">
    <img src="https://raw.githubusercontent.com/kylasam/homelyo-chatbot/main/assets/welcome.png" alt="Play Video">
</div>
<div class="video-overlay" id="videoOverlay">
    <video id="welcomeVideo" src="https://raw.githubusercontent.com/kylasam/homelyo-chatbot/main/assets/welcome.mp4" muted></video>
</div>

<script>
const WEBHOOK_URL = 'https://assistant-proxy.kylashpriya.workers.dev/';

// Chat Send Function
const chatMessages = document.getElementById('chatMessages');
const input = document.getElementById('messageInput');
const sendBtn = document.getElementById('sendButton');

function addMessage(content, sender='bot') {
    const msgDiv = document.createElement('div');
    msgDiv.classList.add('message', sender);
    const avatarDiv = document.createElement('div');
    avatarDiv.classList.add('avatar');
    if(sender==='bot'){
        const img = document.createElement('img');
        img.src = 'https://raw.githubusercontent.com/kylasam/homelyo-chatbot/main/assets/chat-bot-image.png';
        avatarDiv.appendChild(img);
    }
    const contentDiv = document.createElement('div');
    contentDiv.classList.add('message-content');
    contentDiv.textContent = content;
    if(sender==='user') avatarDiv.textContent='üôÇ';
    if(sender==='user') msgDiv.appendChild(contentDiv), msgDiv.appendChild(avatarDiv);
    else msgDiv.appendChild(avatarDiv), msgDiv.appendChild(contentDiv);
    chatMessages.appendChild(msgDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

async function sendMessage() {
    const msg = input.value.trim();
    if(!msg) return;
    addMessage(msg,'user');
    input.value='';
    sendBtn.disabled = true;

    try {
        const res = await fetch(WEBHOOK_URL,{
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({message: msg})
        });
        const data = await res.json();
        addMessage(data.reply || 'Sorry, I could not respond.');
    } catch(e){
        addMessage('Error connecting to chatbot.');
    }
    sendBtn.disabled=false;
}

sendBtn.addEventListener('click',sendMessage);
input.addEventListener('keypress', e=>{if(e.key==='Enter') sendMessage();});

// Video Overlay
const videoBtn = document.getElementById('videoBtn');
const videoOverlay = document.getElementById('videoOverlay');
const welcomeVideo = document.getElementById('welcomeVideo');

videoBtn.addEventListener('click',()=>{
    videoOverlay.classList.add('active');
    welcomeVideo.play();
});

videoOverlay.addEventListener('click',()=>{
    welcomeVideo.pause();
    videoOverlay.classList.remove('active');
});
</script>
</body>
</html>
